<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CW0S29TLQS"></script>
<script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments)};gtag("js", new Date());gtag("set", "developer_id.dMDhkMT", true);gtag("config", "G-CW0S29TLQS", {"groups":"default","page_placeholder":"PLACEHOLDER_page_location"});</script>
<meta name="description" content="10 Software Now we can attempt to write a recursive function. Let us try for a length of list function. Something like length(list) = df. If (list is empty) then 0 else succ(length(tail(list))) we can do all this with the materials we have apart from the fact that the name &#039;length&#039; appears in the body of the function and in lambda calculus there are no names. This obstacle is overcome by what is known as a fix-point combinator (and the next little piece is something with intellectual content)." />
<meta name="author" content="Frické, Martin" />
<meta name="dcterms.creator" content="Frické, Martin" />
<meta name="Generator" content="Drupal 10 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="alternate" hreflang="en" href="https://softoption.us:8888/node/514" />
<link rel="icon" href="/files/softOption.ico" type="image/vnd.microsoft.icon" />
<link rel="canonical" href="https://softoption.us:8888/node/514" />
<link rel="shortlink" href="https://softoption.us:8888/node/514" />

    <title>Combinators III: Recursion and the Fixpoint Combinator (alternate using Java applets | SoftOption ®</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_khtctZLP2jpcMApxNI6U-xr0v74EZxxWBYqs0fkxKLw.css?delta=0&amp;language=en&amp;theme=bartik&amp;include=eJxdzEEKgDAMBdELRXOmpIYSTBvo76aeXtwIun0MozKmn1xCgLWrwEg_1AyQavhxz-Mta6RKbJgrvFcqOYx7jibhlxEWpjV-1jcFbSod" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_8Ax7Y-egvljOoD_s03szA9MISa3YzfOnzQQTURL8wOQ.css?delta=1&amp;language=en&amp;theme=bartik&amp;include=eJxdzEEKgDAMBdELRXOmpIYSTBvo76aeXtwIun0MozKmn1xCgLWrwEg_1AyQavhxz-Mta6RKbJgrvFcqOYx7jibhlxEWpjV-1jcFbSod" />
<link rel="stylesheet" media="print" href="/sites/default/files/css/css_W5Rfue91kk7MvZw9gOwKjBTXLOG9VGkqiJXGc6DDCAQ.css?delta=2&amp;language=en&amp;theme=bartik&amp;include=eJxdzEEKgDAMBdELRXOmpIYSTBvo76aeXtwIun0MozKmn1xCgLWrwEg_1AyQavhxz-Mta6RKbJgrvFcqOYx7jibhlxEWpjV-1jcFbSod" />

    
  </head>
  <body class="layout-one-sidebar layout-sidebar-second path-node page-node-type-book">
        <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    <div id="page-wrapper">
  <div id="page">
    <header id="header" class="header" role="banner">
      <div class="section layout-container clearfix">
        
          <div class="clearfix region region-header">
    <div id="block-navigationiconsintheheader" class="block block-block-content block-block-content84cc7405-2724-49c9-8057-fe7d1e094f86">
  
      <h2>Navigation Icons in the header</h2>
    
      <div class="content">
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><!-- mf --><div id="icons"><a href="/" title="Home page"><img alt="Home" height="26" src="/themes/custom/bartikSoftOptionImages/homeMF.svg" width="32" loading="lazy"></a> <a href="/contact" title="Contact us"><img alt="Contact" height="18" src="/themes/custom/bartikSoftOptionImages/envelopeMF.svg" width="24" loading="lazy"></a> <a href="/sitemap" title="Sitemap"><img alt="Sitemap" height="26" src="/themes/custom/bartikSoftOptionImages/sitemapMF.svg" width="30" loading="lazy"></a> <a href="/search/content" title="Search"><img alt="Search" height="26" src="/themes/custom/bartikSoftOptionImages/searchMF.svg" width="26" loading="lazy"></a></div>
<!-- mf --></div>
      
    </div>
  </div>
<div id="block-bartik-branding" class="clearfix site-branding block block-system block-system-branding-block">
  
    
          <div class="site-branding__text">
              <div class="site-branding__name">
          <a href="/" rel="home">SoftOption ®</a>
        </div>
                </div>
  </div>

  </div>

        
      </div>
    </header>
          <div class="highlighted">
        <aside class="layout-container section clearfix" role="complementary">
            <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>

        </aside>
      </div>
            <div id="main-wrapper" class="layout-main-wrapper layout-container clearfix">
      <div id="main" class="layout-main clearfix">
          <div class="region region-breadcrumb">
    <div id="block-bartik-breadcrumbs" class="block block-system block-system-breadcrumb-block">
  
    
      <div class="content">
        <nav class="breadcrumb" role="navigation" aria-labelledby="system-breadcrumb">
    <h2 id="system-breadcrumb" class="visually-hidden">Breadcrumb</h2>
    <ol>
          <li>
                  <a href="/">Home</a>
              </li>
          <li>
                  <a href="/node"></a>
              </li>
        </ol>
  </nav>

    </div>
  </div>

  </div>

        <main id="content" class="column main-content" role="main">
          <section class="section">
            <a id="main-content" tabindex="-1"></a>
              <div class="region region-content">
    <div id="block-bartik-page-title" class="block block-core block-page-title-block">
  
    
      <div class="content">
      

  <h1 class="title page-title"><span class="field field--name-title field--type-string field--label-hidden">Combinators III: Recursion and the Fixpoint Combinator (alternate using Java applets</span>
</h1>


    </div>
  </div>
<div id="block-bartiksoftoption-system-main" class="block block-system block-system-main-block">
  
    
      <div class="content">
      
<article data-history-node-id="514" class="node node--type-book node--view-mode-full clearfix">
  <header>
    
          
      </header>
  <div class="node__content clearfix">
    
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p>10 Software</p>
<p>Now we can attempt to write a recursive function. Let us try for a length of list function. Something like</p>
<blockquote><p>length(list) = df. If (list is empty) then 0 else succ(length(tail(list)))</p>
</blockquote>
<p>we can do all this with the materials we have apart from the fact that the name 'length' appears in the body of the function and in lambda calculus there are no names.</p>
<p>This obstacle is overcome by what is known as a fix-point combinator (and the next little piece is something with intellectual content).</p>
<p>In general, if we have a free variable in an expression that we would prefer not to be there, we can displace it somewhat (out of the expression and to an argument) by abstracting it out by abstraction and application. A simple example is that the free variable y is the same as (λx.x y) ; or, again (λx.f x) is the same as (λg.λx.(g x ) f).</p>
<p>We can do this with our length of list function</p>
<blockquote><p>length = df. (λf.(If (list is empty) then 0 else succ(f(tail(list)))) length)</p>
</blockquote>
<p>Notice the lambda abstraction itself no longer contains the name 'length'. The general form of this is</p>
<blockquote><p>length = (λf.(....) length)</p>
</blockquote>
<p>and this is not entirely unfamiliar. In mathematics a point which satisfies a function like x = f[x] is known as a fixpoint or fixed-point. For example, the function x*x has a fixpoint of 1 because 1*1 is 1. A fixpoint of a function f is a point which remains unchanged as the result of the application of f to it, so x=f[x]=f[f[x]]=f[f[f[x]]]= ... If you square 1 you get 1, and if you square that (ie the square of the square of 1) you also get 1, and so on.</p>
<p>In our little equation,</p>
<blockquote><p>length = (λf.(....) length)</p>
</blockquote>
<p>the function 'length', which we are after, is a fix point of the abstraction λf.(...).</p>
<p>Shortly we will show that there is an abstraction Y, known as the fixpoint combinator, which when applied to any lambda expression H, has the property that</p>
<blockquote><p>(Y H) = (H (Y H))</p>
</blockquote>
<p>Now, (Y H) is a solution to the fixpoint equation. We can see this by direct substitution. The fixpoint equation is</p>
<blockquote><p>fixpoint = (H fixpoint)</p>
</blockquote>
<p>and if (Y H) is substituted in we get (Y H) = (H (Y H)) which is exactly right i.e. fixpoint=(Y H) is a solution to the equation.</p>
<p>So, when Y applied to any lambda expression whatsoever, say H, it delivers as a result a fixpoint of H, so in the length example (Y λf.(...)) is a or the length function (without using the name length).</p>
<p>In our case, Y applied to λf.(...) will deliver the length function as its result.</p>
<p>The fixpoint combinator is not all that hard to construct and remember (though goodness only knows how someone thought of it in the first place). Start with the self application function</p>
<blockquote><p>λx.(x x)</p>
</blockquote>
<p>slip a function application into the scope of it</p>
<blockquote><p>λx.(h (x x))</p>
</blockquote>
<p>apply what you have to itself</p>
<blockquote><p>(λx.(h (x x)) λx.(h (x x)))</p>
</blockquote>
<p>then abstract over the function h that is in there</p>
<blockquote><p>λh.(λx.(h (x x)) λx.(h (x x))) (* Y the fixpoint combinator *)</p>
</blockquote>
<p>This has to satisfy, for any H</p>
<blockquote><p>(Y H) = (H (Y H))</p>
</blockquote>
<p>consider an arbitrary H</p>
<blockquote><p>(Y H) is (λh.(λx.(h (x x)) λx.(h (x x))) H)</p>
</blockquote>
<p>this reduces to</p>
<blockquote><p>(λx.(H (x x)) λx.(H (x x))) (*keep this in mind as Y H *)</p>
</blockquote>
<p>and one more reduction gives</p>
<blockquote><p>(H (λx.(H (x x)) λx.(H (x x))))</p>
</blockquote>
<p>and this is (H (Y H)) (or, more strictly (H (Y H)) reduces to that, for the (Y H) needs to be reduced once to get the H inside).</p>
<p>Try it as an exercise. [We don't have upper case 'H' as a well-formed lambda expression within the software-- we'll write it as 'upH'.]</p>
<blockquote><p>a) (λh.(λx.(h (x x)) λx.(h (x x))) upH) ⇒(upH (λx.(upH (x x)) λx.(upH (x x)))) (Y H) reduces to (H (Y H))*)</p>
</blockquote>
<p><applet archive="/test/applets/deriver10Applets.jar" code="us.softoption.hostApplets.Lambda.class" height="450" hspace="10" name="Lambda" width="600"><br>
<param name="proof0" value="(λh.(λx.(h (x x)) λx.(h (x x))) upH) ⇒(upH (λx.(upH (x x)) λx.(upH (x x))))">Your browser is not displaying the Deriver applet. Try downloading Deriver itself by clicking on the link elsewhere on the page.</applet></p>
<p>Now we can write our length function, schematically. The version with recursion is</p>
<blockquote><p>(If (list is empty)<br>
then 0<br>
else succ(length (tail list)))</p>
</blockquote>
<p>We get the fixpoint by abstracting over the 'length', and appying the fixpoint combinator ie</p>
<blockquote><p>(Y λlength.(If (list is empty)<br>
then 0<br>
else succ(length (tail list))))</p>
</blockquote>
<p>Then this fixpoint is the length function, and we can translate this piece by piece--to get a truly horrendous expression which might be something like... (I'll make each step of the translation mnemonically first, so you can see what is happening, then abbreviate the mnemonics to keep the whole thing short). And maybe splitting over lines will make things clearer.</p>
<p>The first schematic of the expression is</p>
<blockquote><p>(Y<br>
λlength.<br>
(If<br>
(list is empty)<br>
then 0<br>
else succ(length (tail list))))</p>
</blockquote>
<p>we'll insert the combinator for IF-THEN-ELSE to get the second schematic</p>
<blockquote><p>(Y<br>
λlength.<br>
(((λcondition.λthen.λelse.((condition then) else)<br>
condition)<br>
then)<br>
else)<br>
)</p>
</blockquote>
<p>The 'condition' is whether the list is empty, so we will insert that</p>
<blockquote><p>(Y<br>
λlength.<br>
(((λcondition.λthen.λelse.((condition then) else)<br>
λx.T)<br>
then)<br>
else)<br>
)</p>
</blockquote>
<p>The 'then' is the numeral 0, so we will insert that</p>
<blockquote><p>(Y<br>
λlength.<br>
(((λcondition.λthen.λelse.((condition then) else)<br>
λx.T)<br>
λx.T)<br>
else)<br>
)</p>
</blockquote>
<p>The 'else' is the 'succ(length (tail list))' so let us build that up '(tail list) ' is '(list λx.λy.y)' and 'length (tail list)' is '(length (list λx.λy.y))' and the successor of that is '(λt.λa.((a 0) t) (length (list λx.λy.y)))' so inserting that gives</p>
<blockquote><p>(Y<br>
λlength.<br>
(((λcondition.λthen.λelse.((condition then) else)<br>
λx.T)<br>
λx.T)<br>
(λt.λa.((a 0) t) (length (list λx.λy.y))))<br>
)</p>
</blockquote>
<p>and that should be it. However, we do have the fixpoint combinator in there, and definitions for true. If we take those out we get</p>
<blockquote><p>(λh.(λx.(h (x x)) λx.(h (x x)))<br>
λlength.<br>
(((λcondition.λthen.λelse.((condition then) else)<br>
λx.λx.λy.x)<br>
λx.λx.λy.x)<br>
(λt.λa.((a 0) t) (length (list λx.λy.y))))<br>
)</p>
</blockquote>
<p>This is a function with the free variable 'list'. It is supposed to be applied to lists so we need to abstract over the list variable, thus</p>
<blockquote><p>λlist.<br>
(λh.(λx.(h (x x)) λx.(h (x x)))<br>
λlength.<br>
(((λcondition.λthen.λelse.((condition then) else)<br>
λx.λx.λy.x)<br>
λx.λx.λy.x)<br>
(λt.λa.((a 0) t) (length (list λx.λy.y))))<br>
)</p>
</blockquote>
<p>And putting that on one line gives</p>
<p>λlist.(λh.(λx.(h (x x)) λx.(h (x x))) λlength.(((λcondition.λthen.λelse.((condition then) else) λx.λx.λy.x) λx.λx.λy.x) (λt.λa.((a 0) t) (length (list λx.λy.y)))))</p>
<p>and this function will return the length of a list (you can believe me).</p>
<p>So, for example, were you to apply it to λa.((a b) λa.((a c) λa.((a d) λx.T)) , which is the list {b,c,d} it will return λa.((a λx.T) λa.((a λx.T) λa.((a λx.T) λx.T))) which is the numeral 3.</p>
<p>Just to run over the theory of the fixpoint combinator...</p>
<p>The fix point combinator has the property</p>
<blockquote><p>(Y H) =&gt;(H (Y H))</p>
</blockquote>
<p>and this is important because every recursive definition can be brought into the form of a fixed-point equation</p>
<blockquote><p>f = H [f]</p>
</blockquote>
<p>where f does not occur free in H, and (Y H) is a solution to this (as we can see by direct substitution)</p>
<p>The Y combinator is a universal fixed point finder and works on any lambda expression.</p>
<p>A qualification is that the application of Y may not work practically in that Y H may not have a terminating reduction; for example,the fix point equation</p>
<blockquote><p>x = 3x -10</p>
</blockquote>
<p>has a solution x = 5, but if we lambdify it to</p>
<blockquote><p>x = (λy.(3y-10) x) (*here I am using extended lambda notation with * and - *)</p>
</blockquote>
<p>then apply the fix point combinator (Y (λy.(3y-10) x)) which reduces to (λy.(3y-10) (Y λy.(3y-10))) which reduces to 3(Y λy.(3y-10))- 10 and so on forever.</p>
<p>The fixpoint combinator Y in conjunction with a lambda expression H, rewrites to (Y H) =&gt; (H (Y H)) and hence to (H..(H .. (H (Y H)))), converting recursion to iteration.</p>
<p>What actually has to happen when reducing is that the lambda expression itself has to ensure that the iteration stops eg with fac 5 there will be 5 iterations and then it will stop. Of course, this will not always be the case. Roughly, the lambda expression has to have in it a suitable if-then-else that stops the whole show.</p>
</div>
      
  </div>
</article>

    </div>
  </div>

  </div>

          </section>
        </main>
                          <div id="sidebar-second" class="column sidebar">
            <aside class="section" role="complementary">
                <div class="region region-sidebar-second">
    <div id="block-siteimage" class="block block-block-content block-block-content0ded7434-e98a-4e3c-92cc-5dc0bb6bd1b4">
  
    
      <div class="content">
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><script type="text/javascript">
<!--
 var imlocation = "/files/RandomImages/";
 var currentdate = 0;
 var image_number = 0;
 function ImageArray (n) {
   this.length = n;
   for (var i =1; i <= n; i++) {
     this[i] = ' '
   }
 }
 image = new ImageArray(16)
 image[0] = '1.png'
 image[1] = '2.png'
 image[2] = '3.png'
 image[3] = '4.png'
 image[4] = '5.png'
 image[5] = '6.png'
 image[6] = '7.png'
 image[7] = '8.png'
 image[8] = '9.png'
 image[9] = '10.png'
 image[10] = '11.png'
 image[11] = '12.png'
 image[12] = '13.png'
 image[13] = '14.png'
 image[14] = '15.png'
 image[15] = '16.png'
 var rand = 60/image.length
 function randomimage() {
 	currentdate = new Date()
 	image_number = currentdate.getSeconds()
 	image_number = Math.floor(image_number/rand)
 	return(image[image_number])
 }
 

document.write("<img src='" + imlocation + randomimage()+ "'>");






//-->
</script></div>
      
    </div>
  </div>

<nav role="navigation" aria-labelledby="block-bartik-tools-menu" id="block-bartik-tools" class="block block-menu navigation menu--tools">
      
  <h2 id="block-bartik-tools-menu">Navigation</h2>
  

        <div class="content">
            <div class="menu-toggle-target menu-toggle-target-show" id="show-block-bartik-tools"></div>
      <div class="menu-toggle-target" id="hide-block-bartik-tools"></div>
      <a class="menu-toggle" href="#show-block-bartik-tools">Show &mdash; Navigation</a>
      <a class="menu-toggle menu-toggle--hide" href="#hide-block-bartik-tools">Hide &mdash; Navigation</a>
      
              <ul class="clearfix menu">
                    <li class="menu-item">
        <a href="/browse" title="Items to browse." data-drupal-link-system-path="node/208">Browse</a>
              </li>
                <li class="menu-item">
        <a href="/search/content" data-drupal-link-system-path="search/content">Search</a>
              </li>
                <li class="menu-item">
        <a href="/sitemap" title="Display a site map with RSS feeds." data-drupal-link-system-path="sitemap">Site map</a>
              </li>
        </ul>
  


    </div>
  </nav>

  </div>

            </aside>
          </div>
              </div>
    </div>
        <footer class="site-footer">
      <div class="layout-container">
                          <div class="site-footer__bottom">
              <div class="region region-footer-fifth">
    <div id="block-bartiksoftoption-block-6" class="block block-block-content block-block-content52898772-4b33-4c3e-98d1-b8ffdd41102e">
  
    
      <div class="content">
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item">Copyright SoftOption ® Ltd. (New Zealand). Email: <a href="mailto:support@SoftOption.Us">support@SoftOption.Us</a></div>
      
    </div>
  </div>

  </div>

          </div>
              </div>
    </footer>
  </div>
</div>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","pathPrefix":"","currentPath":"node\/514","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"google_analytics":{"account":"G-CW0S29TLQS","trackOutbound":true,"trackMailto":true,"trackTel":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"statistics":{"data":{"nid":"514"},"url":"\/modules\/contrib\/statistics\/statistics.php"},"user":{"uid":0,"permissionsHash":"cd3d927c0e91f5444b560052ed2f3907b0b1a7d67939ee3e1d9d0bb7ebab88dd"}}</script>
<script src="/sites/default/files/js/js_8QBjledv09z8pzIS-vyTO6xcgINbsE-jAQBxU-jZLnc.js?scope=footer&amp;delta=0&amp;language=en&amp;theme=bartik&amp;include=eJxLz89Pz0mNT8xLzKksyUwu1k9HE9ApLkksySwGy6UUlRYk5ughRAAWtRkf"></script>

  </body>
</html>
