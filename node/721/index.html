<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CW0S29TLQS"></script>
<script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments)};gtag("js", new Date());gtag("set", "developer_id.dMDhkMT", true);gtag("config", "G-CW0S29TLQS", {"groups":"default","page_placeholder":"PLACEHOLDER_page_location"});</script>
<meta name="description" content="8/28/21 Using constraints As alluded to earlier, with Junior Hindley-Milner, constraints make the problem of finding types much easier. Some of the expression forms imposes constraints. These constraints can be collected up and the collection solved (mgu (most general unification) will produce a suitable substitution)." />
<meta name="author" content="Frické, Martin" />
<meta name="dcterms.creator" content="Frické, Martin" />
<meta name="Generator" content="Drupal 10 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="alternate" hreflang="en" href="https://softoption.us:8888/node/721" />
<link rel="icon" href="/files/softOption.ico" type="image/vnd.microsoft.icon" />
<link rel="canonical" href="https://softoption.us:8888/node/721" />
<link rel="shortlink" href="https://softoption.us:8888/node/721" />
<link rel="prev" href="/node/714" />
<link rel="up" href="/node/712" />
<link rel="next" href="/node/717" />

    <title>MiniML: Constraints | SoftOption ®</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_khtctZLP2jpcMApxNI6U-xr0v74EZxxWBYqs0fkxKLw.css?delta=0&amp;language=en&amp;theme=bartik&amp;include=eJxdjVEKwCAMxS6k80zVFSnWFnwycKcf-xnM3wSSTGNKS0UJWEcmcMh_5N6i0SWVprhttjNAlbFh8_PrVPVMGjGXitVQfHAyH51Ubg5YmNzTO34AqBU1ug" />
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_QgIKm-2l_vW99o8hYWJe1FpLS9-NLija21X9jfKiHr0.css?delta=1&amp;language=en&amp;theme=bartik&amp;include=eJxdjVEKwCAMxS6k80zVFSnWFnwycKcf-xnM3wSSTGNKS0UJWEcmcMh_5N6i0SWVprhttjNAlbFh8_PrVPVMGjGXitVQfHAyH51Ubg5YmNzTO34AqBU1ug" />
<link rel="stylesheet" media="print" href="/sites/default/files/css/css_W5Rfue91kk7MvZw9gOwKjBTXLOG9VGkqiJXGc6DDCAQ.css?delta=2&amp;language=en&amp;theme=bartik&amp;include=eJxdjVEKwCAMxS6k80zVFSnWFnwycKcf-xnM3wSSTGNKS0UJWEcmcMh_5N6i0SWVprhttjNAlbFh8_PrVPVMGjGXitVQfHAyH51Ubg5YmNzTO34AqBU1ug" />

    
  </head>
  <body class="layout-one-sidebar layout-sidebar-second path-node page-node-type-book">
        <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    <div id="page-wrapper">
  <div id="page">
    <header id="header" class="header" role="banner">
      <div class="section layout-container clearfix">
        
          <div class="clearfix region region-header">
    <div id="block-navigationiconsintheheader" class="block block-block-content block-block-content84cc7405-2724-49c9-8057-fe7d1e094f86">
  
      <h2>Navigation Icons in the header</h2>
    
      <div class="content">
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><!-- mf --><div id="icons"><a href="/" title="Home page"><img alt="Home" height="26" src="/themes/custom/bartikSoftOptionImages/homeMF.svg" width="32" loading="lazy"></a> <a href="/contact" title="Contact us"><img alt="Contact" height="18" src="/themes/custom/bartikSoftOptionImages/envelopeMF.svg" width="24" loading="lazy"></a> <a href="/sitemap" title="Sitemap"><img alt="Sitemap" height="26" src="/themes/custom/bartikSoftOptionImages/sitemapMF.svg" width="30" loading="lazy"></a> <a href="/search/content" title="Search"><img alt="Search" height="26" src="/themes/custom/bartikSoftOptionImages/searchMF.svg" width="26" loading="lazy"></a></div>
<!-- mf --></div>
      
    </div>
  </div>
<div id="block-bartik-branding" class="clearfix site-branding block block-system block-system-branding-block">
  
    
          <div class="site-branding__text">
              <div class="site-branding__name">
          <a href="/" rel="home">SoftOption ®</a>
        </div>
                </div>
  </div>

  </div>

        
      </div>
    </header>
          <div class="highlighted">
        <aside class="layout-container section clearfix" role="complementary">
            <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>

        </aside>
      </div>
            <div id="main-wrapper" class="layout-main-wrapper layout-container clearfix">
      <div id="main" class="layout-main clearfix">
          <div class="region region-breadcrumb">
    <div id="block-bartik-breadcrumbs" class="block block-system block-system-breadcrumb-block">
  
    
      <div class="content">
        <nav class="breadcrumb" role="navigation" aria-labelledby="system-breadcrumb">
    <h2 id="system-breadcrumb" class="visually-hidden">Breadcrumb</h2>
    <ol>
          <li>
                  <a href="/">Home</a>
              </li>
          <li>
                  <a href="/node/718">Lambda Calculus with Elementary Type Theory</a>
              </li>
          <li>
                  <a href="/node/712">Let Polymorphism and a Mini-ML Type System</a>
              </li>
        </ol>
  </nav>

    </div>
  </div>

  </div>

        <main id="content" class="column main-content" role="main">
          <section class="section">
            <a id="main-content" tabindex="-1"></a>
              <div class="region region-content">
    <div id="block-bartik-page-title" class="block block-core block-page-title-block">
  
    
      <div class="content">
      

  <h1 class="title page-title"><span class="field field--name-title field--type-string field--label-hidden">MiniML: Constraints</span>
</h1>


    </div>
  </div>
<div id="block-bartiksoftoption-system-main" class="block block-system block-system-main-block">
  
    
      <div class="content">
      
<article data-history-node-id="721" class="node node--type-book node--view-mode-full clearfix">
  <header>
    
          
      </header>
  <div class="node__content clearfix">
    
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><h6 style="text-align:right">8/28/21</h6>
<h2>Using constraints</h2>
<p>As alluded to earlier, with Junior Hindley-Milner, constraints make the problem of finding types much easier. Some&nbsp;of the expression forms imposes constraints. These constraints can be collected up and the collection solved&nbsp;(mgu (most general unification) will produce a suitable substitution).</p>
<p>In the Junior Hindley Milner pages, all the constraints were equalities e.g. that&nbsp;τ<sub>1</sub>=&nbsp;τ<sub><span style="font-size:11.6667px">2</span></sub>-&gt;σ . Going forward there may be some constraints of a different form e.g. that one type is an instance of a type scheme. To add some detail.</p>
<h3>Explicit instance constraints</h3>
<p>Say a let variable has been annotated with a universally quantified type-scheme, for example, 'let identity:∀(a-&gt;a)=λx .x in (identity 7)'. Now, the identity function in the application (identity 7) needs to have type Int-&gt;Int. But the initial local variable identity as introduce has type&nbsp;∀(a-&gt;a). Clearly these two types do not need to be equal (they are not, and they do not unify while the universal quantifier&nbsp;∀ is in place). What needs to happen is that Int-&gt;Int be an instance of&nbsp;∀(a-&gt;a) (which it is). The scheme is instantiated to a0-&gt;a0, say, using new type variables, and&nbsp;a0-&gt;a0 is unified with Int-&gt;Int. We can require, as a constraint, in a case like this, that one type is an (explicit) instance of another type or type scheme.</p>
<h3>Implicit instance constraints</h3>
<p>Implicit instance constraints are similar to explicit instance constraints, but slightly different. These occur where there is no annotation, for example,&nbsp;'let identity=λx .x in let ignore= (identity True) in (identity 7)' . This time we know, or suspect, that the type of the whole let expression is going to be Int. But the local identity variable seems to have type Bool-&gt;Bool in one use and Int-&gt;Int in another and yet nothing is said about its type when it is declared, without annotation, in&nbsp;identity=λx .x . The type of identity is going to need to be a type scheme, probably with a universal quantifier, and&nbsp;Bool-&gt;Bool and Int-&gt;Int are going to need to be instances of that scheme.&nbsp;We can require, as a constraint, in a case like this, that one type is an (implicit) instance of another type or type scheme. But what is an (implicit) instance of what? We take the defined expression, in this case&nbsp;λx .x, and get its type, which is a-&gt;a for some type variable. Then we <em>generalize</em> this. Generalization consists identifying the free type variables, in this case a, and binding them using a universal quantifier. The result, in this case, is the type-scheme&nbsp;∀a (a-&gt;a) . So, the (implicit) constraints here are that&nbsp;Bool-&gt;Bool and&nbsp;Int-&gt;Int be instances of the scheme&nbsp;∀a (a-&gt;a).</p>
<h2>The constraint rules</h2>
<p>The determination of type can be made using 'constraint typing rules'. Each typing rule has some premises and a conclusion. The premises are written above a horizontal line and the conclusion below that line.&nbsp; Each rule permits one step of the derivation or inference.</p>
<p>Of vital importance are <em>new type variables</em>. Several of the rules introduce type variables. These need to be totally new to the whole reasoning or proof. Conceptually, we can imagine a central source of type variables and each time a type variable is introduced that&nbsp;central source supplies a new one. (Side remark: in some programming languages a global might be used to supply the new variables; in functional programming languages a monad might be used.)</p>
<p><strong>The general form</strong></p>
<table border="1" cellpadding="1" cellspacing="1" style="width:700px;margin-left: 40px;">
<tbody>
<tr>
<td>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;premises&gt; or &lt;preconditions&gt;<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strike><br>
			&lt;environment&gt; ⊢ &lt;expression&gt;:&lt;its type&gt; &lt;constraints&gt;</td>
</tr>
</tbody>
</table>
<p><strong>Variable</strong> (i.e. the expression, e, whose type is to be determined ,is a term-variable)</p>
<table border="1" cellpadding="1" cellspacing="1" style="width:700px;margin-left: 40px;">
<tbody>
<tr>
<td>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(e:τ) ∈&nbsp;Γ<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike><br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Γ ⊢ e:σ {}</td>
</tr>
</tbody>
</table>
<p>If the expression e to be typed is a term-variable, and it has a value in the environment, then its type is that value and there are no constraints.</p>
<p>Examples of the use&nbsp;of this rule include</p>
<table border="1" cellpadding="1" cellspacing="1" style="width:700px;margin-left: 40px;">
<tbody>
<tr>
<td>(e:I) ∈&nbsp;Γ<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike>&nbsp;<br>
			&nbsp;Γ ⊢ e:I&nbsp; {}</td>
<td>(e:I-&gt;B) ∈&nbsp;Γ<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike>&nbsp;<br>
			&nbsp;Γ ⊢ e:I-&gt;B {}</td>
</tr>
</tbody>
</table>
<p><strong>Constant</strong>&nbsp;(i.e. the expression, e, whose type is to be determined is either a Boolean (B) or an Integer (I))</p>
<table border="1" cellpadding="1" cellspacing="1" style="width:700px;margin-left: 40px;">
<tbody>
<tr>
<td>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike>&nbsp;<br>
			&nbsp;Γ ⊢ &lt;a Boolean&gt;:B&nbsp; {}</td>
<td>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike>&nbsp;<br>
			&nbsp;Γ ⊢ &lt;an Integer&gt;:I&nbsp; {}</td>
</tr>
</tbody>
</table>
<p>&nbsp;If an expression is True or False, its type is a B. If an expression is one of 0,1,2,3... etc., its type is I. This produces no constraints.</p>
<p><strong>Lambda</strong> (i.e. the expression, λx.e, whose type is to be determined is a function, without annotation)</p>
<p>This rule requires that the lambda variable (x in the case of&nbsp;λx.e) not be in the original or unaugmented environment. If it is, the lambda expression is alpha-rewritten to use another variable, say y, to give an equivalent expression&nbsp;λy.e which satisfies the precondition</p>
<table border="1" cellpadding="1" cellspacing="1" style="width:700px;margin-left: 40px;">
<tbody>
<tr>
<td>Γ ∪ {x:τ<sub>&nbsp;</sub>} ⊢&nbsp;e:σ C<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike><br>
			&nbsp;Γ ⊢ λx.e : τ-&gt;σ C</td>
</tr>
</tbody>
</table>
<p>If&nbsp;{x:τ<sub>&nbsp;</sub>} is added to the environment, and, then,&nbsp;an expression e (the potential scope) has the type&nbsp;σ requiring constraints C, then a lambda expression&nbsp;λx.e has the type&nbsp;τ-&gt;σ using the environment &nbsp;Γ without&nbsp;{x:τ<sub>&nbsp;</sub>} and the constraints C are unchanged.</p>
<p><strong>Lambda with annotation</strong> (i.e. the expression, λx.e, whose type is to be determined is a function, <em>with</em> annotation)</p>
<p>What is in prospect here is that an extra constraint is going to be added to the constraints, and that new constraint will assert that the type of the annotated lambda variable is to be that requested by the annotation.</p>
<p>This rule requires that the lambda variable (x in the case of&nbsp;λx.e) not be in the original or unaugmented environment. If it is, the lambda expression is alpha-rewritten to use another variable, say y, to give an equivalent expression&nbsp;λy.e which satisfies the precondition.</p>
<table border="1" cellpadding="1" cellspacing="1" style="width:700px;margin-left: 40px;">
<tbody>
<tr>
<td>Γ ∪ {x:τ<sub>&nbsp;</sub>} ⊢&nbsp;e:σ C<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike><br>
			&nbsp;Γ ⊢ λx:a.e : τ-&gt;σ C&nbsp;∪ {τ= a} /* a is the annotation */</td>
</tr>
</tbody>
</table>
<p>If&nbsp;{x:τ<sub>&nbsp;</sub>} is added to the environment, and, then,&nbsp;an expression e (the potential scope) has the type&nbsp;σ requiring constraints C, then a lambda expression&nbsp;λx:a.e has the type&nbsp;τ-&gt;σ using the environment &nbsp;Γ without&nbsp;{x:τ<sub>&nbsp;</sub>} and the constraints C are augmented by the additional constraint&nbsp;{τ= a} .</p>
<p>[There is a small issue here that might arise in implementations. The annotation, for type, is in the MiniML expression language e.g the B (for 'Boolean') in λx:<strong>B</strong>.x . But our reasoning about constraints uses what we have called a type 'algebra' with, for example,&nbsp;τ<span style="font-size: 11.6667px;">0,</span>&nbsp; τ<sub>1</sub>=&nbsp;τ<sub><span style="font-size: 11.6667px;">2</span></sub>-&gt;σ, etc. What has to happen is that the expression used in the type algebra has to be the right one corresponding to the annotation in the&nbsp;MiniML expression language. We can probably leave it to actual programmers to worry about this.]&nbsp;</p>
<p><strong>Application</strong> (i.e. the expression, (e<sub>1</sub> e<sub>2</sub>) whose type is to be determined is an application)</p>
<p>There is a new type variable,&nbsp;σ, that is going to be used here. This needs to be not a free type variable of any of the prior environments or constraints. And easy way to achieve this is to ensure that&nbsp;σ is completely new.</p>
<p>C'<sub><font size="1">&nbsp;</font></sub><font size="1">=&nbsp;</font>C<sub><font size="1">1&nbsp;</font></sub>∪&nbsp;C<sub><font size="1">2&nbsp;</font></sub>∪ {τ<sub>1</sub>=&nbsp;τ<sub><span style="font-size: 11.6667px;">2</span></sub>-&gt;σ}</p>
<table border="1" cellpadding="1" cellspacing="1" style="width: 700px;margin-left: 40px;">
<tbody>
<tr>
<td>Γ ⊢ e<sub>1</sub>:τ<sub>1</sub>&nbsp;C<sub>1</sub> and&nbsp;Γ ⊢ e<sub>2</sub>:&nbsp;τ<sub>2</sub> C<sub><font size="1">2&nbsp;</font></sub>and C' is defined as C'<sub><font size="1">&nbsp;</font></sub><font size="1">=&nbsp;</font>C<sub><font size="1">1&nbsp;</font></sub>∪&nbsp;C<sub><font size="1">2&nbsp;</font></sub>∪ {τ<sub>1</sub>=&nbsp;τ<sub><span style="font-size:11.6667px">2</span></sub>-&gt;σ} /*σ new */<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strike><br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Γ ⊢ (e<sub>1</sub> e<sub>2</sub>) : σ C'</td>
</tr>
</tbody>
</table>
<p>If you are trying to type an application (e<sub>1</sub> e<sub>2</sub>) ...&nbsp;If e<sub>1&nbsp;</sub>has the type&nbsp;τ-&gt;σ and&nbsp;e<sub>2</sub> has the type , then&nbsp;(e<sub>1</sub> e<sub>2</sub>) has the type&nbsp;σ .</p>
<p><strong>Let </strong>without annotation&nbsp; (i.e. the expression, let x=e<sub>1</sub>&nbsp;in e<sub>2</sub>) whose type is to be determined is an unannotated let expression)</p>
<table border="1" cellpadding="1" cellspacing="1" style="width: 700px;margin-left: 40px">
<tbody>
<tr>
<td>
<p>Γ ⊢ e<sub>1</sub>:τ&nbsp;C<sub>1</sub> &nbsp;and&nbsp;Γ∪{x:∀A(τ)<sub>&nbsp;</sub>} ⊢ e<sub>2</sub>:&nbsp;σ&nbsp; C<sub><font size="1">2</font></sub>&nbsp; &nbsp;i) the term variable x needs not to have a prior valuation&nbsp;<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;in&nbsp;&nbsp;Γ&nbsp;and<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ii) A is the list of free variables&nbsp; ftv(e<sub>1</sub>)-ftv(Γ)<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iii) i.e.&nbsp;Γ∪{x:∀A(τ))<sub>&nbsp;</sub>} is the environment together with a<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;generalization of the type of e<sub>1&nbsp;</sub>i.e. τ<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iv)&nbsp;C'<sub><font size="1">&nbsp;</font></sub><font size="1">=&nbsp;</font>C<sub><font size="1">1&nbsp;</font></sub>∪&nbsp;C<sub><font size="1">2&nbsp;</font></sub>∪ {σ is an implicit instance of {x:∀A(τ))<sub>&nbsp;</sub>} }<br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike><br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Γ ⊢ (let x=e<sub>1</sub>&nbsp;in e<sub>2</sub>) : σ C'</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Let </strong>with annotation&nbsp; (i.e. the expression, let x=e<sub>1</sub>&nbsp;in e<sub>2</sub>) whose type is to be determined is an annotated let expression)</p>
<table style="width:700px; margin-left:40px">
<tbody>
<tr>
<td>
<p>Γ ⊢ e<sub>1</sub>:τ&nbsp;C<sub>1</sub> &nbsp;and&nbsp;Γ∪{x:a<sub>&nbsp;</sub>} ⊢ e<sub>2</sub>:&nbsp;σ&nbsp; C<sub><font size="1">2</font></sub>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i) the term variable x needs not to have a prior valuation&nbsp;<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;in&nbsp;&nbsp;Γ&nbsp;<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ii) Γ∪{x:a))<sub>&nbsp;</sub>} is the environment together with a valuation&nbsp;{x:a<sub>&nbsp;</sub>}<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; that the type of the let variable is that of the annotation<br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iii)&nbsp;C'<sub><font size="1">&nbsp;</font></sub><font size="1">=&nbsp;</font>C<sub><font size="1">1&nbsp;</font></sub>∪&nbsp;C<sub><font size="1">2</font></sub><br>
			<strike>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strike><br>
			&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Γ ⊢ (let x:a=e<sub>1</sub>&nbsp;in e<sub>2</sub>) : σ C'&nbsp;/* a is the annotation */</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><iframe height="600" id="#editorJHM" scrolling="yes" src="/sites/all/js/lambdaWidgets/src/constraintsMiniML.jsexe/index.html" width="100%">If you can see this, your browser does not understand IFRAME.</iframe></p>
<p>&nbsp;</p>
</div>
      
  <nav id="book-navigation-718" class="book-navigation" role="navigation" aria-labelledby="book-label-718">
    
          <h2 class="visually-hidden" id="book-label-718">Book traversal links for MiniML: Constraints</h2>
      <ul class="book-pager">
              <li class="book-pager__item book-pager__item--previous">
          <a href="/node/714" rel="prev" title="Go to previous page"><b>‹</b> Let Polymorphism in Mini ML</a>
        </li>
                    <li class="book-pager__item book-pager__item--center">
          <a href="/node/712" title="Go to parent page">Up</a>
        </li>
                    <li class="book-pager__item book-pager__item--next">
          <a href="/node/717" rel="next" title="Go to next page">MiniML: Solving the Constraints <b>›</b></a>
        </li>
          </ul>
      </nav>

  </div>
</article>

    </div>
  </div>

  </div>

          </section>
        </main>
                          <div id="sidebar-second" class="column sidebar">
            <aside class="section" role="complementary">
                <div class="region region-sidebar-second">
    <div id="block-siteimage" class="block block-block-content block-block-content0ded7434-e98a-4e3c-92cc-5dc0bb6bd1b4">
  
    
      <div class="content">
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><script type="text/javascript">
<!--
 var imlocation = "/files/RandomImages/";
 var currentdate = 0;
 var image_number = 0;
 function ImageArray (n) {
   this.length = n;
   for (var i =1; i <= n; i++) {
     this[i] = ' '
   }
 }
 image = new ImageArray(16)
 image[0] = '1.png'
 image[1] = '2.png'
 image[2] = '3.png'
 image[3] = '4.png'
 image[4] = '5.png'
 image[5] = '6.png'
 image[6] = '7.png'
 image[7] = '8.png'
 image[8] = '9.png'
 image[9] = '10.png'
 image[10] = '11.png'
 image[11] = '12.png'
 image[12] = '13.png'
 image[13] = '14.png'
 image[14] = '15.png'
 image[15] = '16.png'
 var rand = 60/image.length
 function randomimage() {
 	currentdate = new Date()
 	image_number = currentdate.getSeconds()
 	image_number = Math.floor(image_number/rand)
 	return(image[image_number])
 }
 

document.write("<img src='" + imlocation + randomimage()+ "'>");






//-->
</script></div>
      
    </div>
  </div>

<nav role="navigation" aria-labelledby="block-bartik-tools-menu" id="block-bartik-tools" class="block block-menu navigation menu--tools">
      
  <h2 id="block-bartik-tools-menu">Navigation</h2>
  

        <div class="content">
            <div class="menu-toggle-target menu-toggle-target-show" id="show-block-bartik-tools"></div>
      <div class="menu-toggle-target" id="hide-block-bartik-tools"></div>
      <a class="menu-toggle" href="#show-block-bartik-tools">Show &mdash; Navigation</a>
      <a class="menu-toggle menu-toggle--hide" href="#hide-block-bartik-tools">Hide &mdash; Navigation</a>
      
              <ul class="clearfix menu">
                    <li class="menu-item">
        <a href="/browse" title="Items to browse." data-drupal-link-system-path="node/208">Browse</a>
              </li>
                <li class="menu-item">
        <a href="/search/content" data-drupal-link-system-path="search/content">Search</a>
              </li>
                <li class="menu-item">
        <a href="/sitemap" title="Display a site map with RSS feeds." data-drupal-link-system-path="sitemap">Site map</a>
              </li>
        </ul>
  


    </div>
  </nav>
<div id="block-booknavigation" class="block block-book block-book-navigation">
  
    
      <div class="content">
      
              <ul class="menu">
                    <li class="menu-item">
        <a href="/node/671" hreflang="en">Simply Typed Lambda Calculus</a>
              </li>
                <li class="menu-item menu-item--collapsed">
        <a href="/node/676" hreflang="en">Junior Hindley-Milner I</a>
              </li>
                <li class="menu-item">
        <a href="/node/680" hreflang="en">Polymorphism, Annotation, and Decidable Type Inference</a>
              </li>
                <li class="menu-item menu-item--expanded menu-item--active-trail">
        <a href="/node/712" hreflang="en">Let Polymorphism and a Mini-ML Type System</a>
                                <ul class="menu">
                    <li class="menu-item">
        <a href="/node/714" hreflang="en">Let Polymorphism in Mini ML</a>
              </li>
                <li class="menu-item menu-item--active-trail">
        <a href="/node/721" hreflang="en">MiniML: Constraints</a>
              </li>
                <li class="menu-item">
        <a href="/node/717" hreflang="en">MiniML: Solving the Constraints</a>
              </li>
                <li class="menu-item">
        <a href="/node/719" hreflang="en">MiniML NOR Reduction with Expression Type</a>
              </li>
                <li class="menu-item">
        <a href="/node/722" hreflang="en">MiniML: Drawing It to a Conclusion</a>
              </li>
        </ul>
  
              </li>
                <li class="menu-item">
        <a href="/node/723" hreflang="en">Polymorphic Lambda Calculus: System F</a>
              </li>
                <li class="menu-item menu-item--collapsed">
        <a href="/node/672" hreflang="en">Intuitionistic Propositional Logic</a>
              </li>
        </ul>
  


    </div>
  </div>

  </div>

            </aside>
          </div>
              </div>
    </div>
        <footer class="site-footer">
      <div class="layout-container">
                          <div class="site-footer__bottom">
              <div class="region region-footer-fifth">
    <div id="block-bartiksoftoption-block-6" class="block block-block-content block-block-content52898772-4b33-4c3e-98d1-b8ffdd41102e">
  
    
      <div class="content">
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item">Copyright SoftOption ® Ltd. (New Zealand). Email: <a href="mailto:support@SoftOption.Us">support@SoftOption.Us</a></div>
      
    </div>
  </div>

  </div>

          </div>
              </div>
    </footer>
  </div>
</div>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","pathPrefix":"","currentPath":"node\/721","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"google_analytics":{"account":"G-CW0S29TLQS","trackOutbound":true,"trackMailto":true,"trackTel":true,"trackDownload":true,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"statistics":{"data":{"nid":"721"},"url":"\/modules\/contrib\/statistics\/statistics.php"},"user":{"uid":0,"permissionsHash":"cd3d927c0e91f5444b560052ed2f3907b0b1a7d67939ee3e1d9d0bb7ebab88dd"}}</script>
<script src="/sites/default/files/js/js_8QBjledv09z8pzIS-vyTO6xcgINbsE-jAQBxU-jZLnc.js?scope=footer&amp;delta=0&amp;language=en&amp;theme=bartik&amp;include=eJxLz89Pz0mNT8xLzKksyUwu1k9HE9ApLkksySwGy6UUlRYk5ughRAAWtRkf"></script>

  </body>
</html>
